<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>2048 Chess</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="script.js" type = "module"></script>
    
    
  </head>


  <img class = "logo" src="piece_icons\logo.png"  >


  <body>
    
    
    
    <nav id="menu"> 
      <div>
        <div id="buttons">
          <button id="tutorial-button" aria-label="Tutorial">
            <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 15 15"><path fill="currentColor" fill-rule="evenodd" d="M.877 7.5a6.623 6.623 0 1 1 13.246 0a6.623 6.623 0 0 1-13.246 0ZM7.5 1.827a5.673 5.673 0 1 0 0 11.346a5.673 5.673 0 0 0 0-11.346Zm.75 8.673a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0Zm-2.2-4.25c0-.678.585-1.325 1.45-1.325s1.45.647 1.45 1.325c0 .491-.27.742-.736 1.025c-.051.032-.111.066-.176.104a5.28 5.28 0 0 0-.564.36c-.242.188-.524.493-.524.961a.55.55 0 0 0 1.1.004a.443.443 0 0 1 .1-.098c.102-.079.215-.144.366-.232c.078-.045.167-.097.27-.159c.534-.325 1.264-.861 1.264-1.965c0-1.322-1.115-2.425-2.55-2.425c-1.435 0-2.55 1.103-2.55 2.425a.55.55 0 0 0 1.1 0Z" clip-rule="evenodd"/></svg>
          </button>
          <button id="settings-button" aria-label="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M14 3.269C14 2.568 13.432 2 12.731 2H11.27C10.568 2 10 2.568 10 3.269c0 .578-.396 1.074-.935 1.286c-.085.034-.17.07-.253.106c-.531.23-1.162.16-1.572-.249a1.269 1.269 0 0 0-1.794 0L4.412 5.446a1.269 1.269 0 0 0 0 1.794c.41.41.48 1.04.248 1.572a7.946 7.946 0 0 0-.105.253c-.212.539-.708.935-1.286.935C2.568 10 2 10.568 2 11.269v1.462C2 13.432 2.568 14 3.269 14c.578 0 1.074.396 1.286.935c.034.085.07.17.105.253c.231.531.161 1.162-.248 1.572a1.269 1.269 0 0 0 0 1.794l1.034 1.034a1.269 1.269 0 0 0 1.794 0c.41-.41 1.04-.48 1.572-.249c.083.037.168.072.253.106c.539.212.935.708.935 1.286c0 .701.568 1.269 1.269 1.269h1.462c.701 0 1.269-.568 1.269-1.269c0-.578.396-1.074.935-1.287c.085-.033.17-.068.253-.104c.531-.232 1.162-.161 1.571.248a1.269 1.269 0 0 0 1.795 0l1.034-1.034a1.269 1.269 0 0 0 0-1.794c-.41-.41-.48-1.04-.249-1.572c.037-.083.072-.168.106-.253c.212-.539.708-.935 1.286-.935c.701 0 1.269-.568 1.269-1.269V11.27c0-.701-.568-1.269-1.269-1.269c-.578 0-1.074-.396-1.287-.935a7.755 7.755 0 0 0-.105-.253c-.23-.531-.16-1.162.249-1.572a1.269 1.269 0 0 0 0-1.794l-1.034-1.034a1.269 1.269 0 0 0-1.794 0c-.41.41-1.04.48-1.572.249a7.913 7.913 0 0 0-.253-.106C14.396 4.343 14 3.847 14 3.27Z"/><path d="M16 12a4 4 0 1 1-8 0a4 4 0 0 1 8 0Z"/></g></svg>     
          </button>
        </div>
        <div id="counter">
          <div>
            Move Count: <span id="move-count"></span>
          </div>
        </div>
      </div>
      <dialog class="modal" id="modal">
        <div class ="modal-header">
          <h2>How to Play</h2>
          <button class="close-button">&nbsp;&times;&nbsp;</button>    
        </div>
        <p>In this game, pieces move as they do in Chess, and merge similarly as they do 2048! Your goal is to save the king in the least number of moves.</p>
        <p><b>Click and drag</b> to move and combine the pieces!</p>
        <p>On each move, <b>ALL pieces</b> will attempt to move <b>as far as possible</b> in the direction <b>closest to your drag</b>, according to their <a href="https://en.wikipedia.org/wiki/Chess#Movement" target="_blank">movement in Chess</a>.* </p>
        <p>The <span style="color: orange"><b>orange</b></span> line indicates the direction of your current drag. To confirm the move, drag until the line becomes <span style="color: red"><b>red</b></span> and release.</p>
        <p>Pieces are ranked by the following order: 
          <br>
          <div id = "arrows">
            <img id="piece-icon" src="piece_icons\pawn.png" alt="Pawn"> &#8594 
            <img id="piece-icon" src="piece_icons\knight.png" alt="Knight"> &#8594 
            <img id="piece-icon" src="piece_icons\bishop.png" alt="Bishop"> &#8594 
            <img id="piece-icon" src="piece_icons\rook.png" alt="Rook"> &#8594 
            <img id="piece-icon" src="piece_icons\queen.png" alt="Queen"> &#8594 
            <img id="piece-icon" src="piece_icons\king.png" alt="King"> 
          </div>
        </p>
        <p>On each turn, the pieces in each square are sorted by rank and merged according to the following two rules until one piece remains:</p>
        <p>1. Two pieces of the <b>same rank</b> will combine to form one piece of the <b>rank above</b>. </p>
        <p>2. If two pieces are of <b>unequal rank</b>, only the piece with <b>higher rank</b> will remain.</p>
        <p>For example: 
          <div id = "addition">
            <img id="piece-icon" src="piece_icons\pawn.png" alt="Pawn"> + 
            <img id="piece-icon" src="piece_icons\knight.png" alt="Knight"> + 
            <img id="piece-icon" src="piece_icons\knight.png" alt="Knight"> + 
            <img id="piece-icon" src="piece_icons\bishop.png" alt="Bishop"> &#8594 
            <img id="piece-icon" src="piece_icons\knight.png" alt="Knight"> + 
            <img id="piece-icon" src="piece_icons\knight.png" alt="Knight"> + 
            <img id="piece-icon" src="piece_icons\bishop.png" alt="Bishop"> 
            <br>
            &#8594 
            <img id="piece-icon" src="piece_icons\bishop.png" alt="Bishop"> +
            <img id="piece-icon" src="piece_icons\bishop.png" alt="Bishop"> &#8594
            <img id="piece-icon" src="piece_icons\rook.png" alt="Rook">
          </div>
        </p>
        <p>
          After each move, a pawn (90%) or knight (10%) will randomly spawn in an empty square, if there is one.
        </p>
        <p>*Note that in this game:</p>
        <p>
          - Pawns do not move diagonally or two spaces at a time. 
          <br>
          - Moving pieces may phase through stationary pieces. 
          <br>
          - "Non-moves" are allowed, but will still contribute to the total move count.
        </p>
        <p>
          Good Luck! 
        </p>
        <button class="close-button" id="close-modal">Close</button>      
      </dialog>

      <dialog class="modal" id="modal-settings">
        <div class ="modal-header">
          <h2>Settings</h2>
          <button class="close-button">&nbsp;&times;&nbsp;</button>    
        </div>
        <div id = "settings">
          <p>
            Grid Size: Coming Soon!
          </p>
          <p>
            Themes: Coming Soon!
          </p>
        </div>
        
        <button class="close-button" id="close-modal">Close</button>      
      </dialog>


      <dialog class="modal" id="modal-windicator">
        <div class ="modal-header">
          <h2>Congratulations!</h2>
        </div>
        <div id = "windicator">
          <div class="modal-content">
            <div class="modal-body">
                You saved the king in <span id="num-moves"></span> moves! &#x1F60E;
            </div>
            <br>  
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary close-windicator" data-dismiss="modal">Continue</button>
                <button type="button" class="btn restart close-button" data-dismiss="modal">Restart</button>
            </div>
        </div>
      </dialog>
    </nav>

    
    <div id="game-board">
    </div>
    <div id="mouseDragLine"></div>
  </body>
  <p>
      
    <br>  
    Created by Derek Chen. Based on <a href="http://gabrielecirulli.github.io/2048/" target="_blank">2048</a> by Gabriele Cirulli and the classic strategy game Chess.

  </p>

</html>